<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dua 9 - Dua Sharing</title>
</head>
<body>
  <a id="manualLink" href="#" target="_blank" style="display:none;">Open WhatsApp</a>

  <script>
    const message = `*Ya Allah… Purify my heart*

Pause for a moment, turn your heart sincerely toward Allah, and read this short duʿāʾ for a pure heart and good character. Then forward it to 5 people to earn ongoing reward and duʿā.

*Niyyah*:

I intend this recitation of this du'a for myself, the compilers, the sharers, and the recipients.

*The Duʿāʾ*:

Ya Allah (O Allah), Ya Malikul Quddus (O King, the Most Pure), grant us hearts that are pure and sound, free from all anger, malice, jealousy, envy, arrogance, pride, unlawful lust, and greed. Adorn us with the best and most noble character, inspired by Your beloved, Habeebullah, Sultan-ul-Anbiya, Rasoolullah, Sayyidina Muhammad Sallallahu Alayhi Wasallam. Fill our hearts with a deep and unwavering love for him. Let this love purify our desires, guide our intentions, and transform our actions into those that are beloved and pleasing to You and Your beloved.

Because of the niyyah, when others recite this after you share it, you are included in their duʿāʾ. They will be praying for your heart to be purified and your character to be adorned with noble qualities too.

This is 1 of 23 supplications from *The Supplication of Infinite Blessings*.

*Take a few seconds now and forward this to at least 5 people* — so the reward of spreading goodness increases for you, and duʿāʾs continue to be made for you with every sincere recitation.

Find the full Supplication of Infinite Blessings in both English and Arabic at: https://www.duasharing.com/`;

    const fallbacks = {
      'ﷻ': 'ﷻ',
      'ﷺ': 'ﷺ'
    };

    let messageWithFallback = message;
    for (const [symbol, replacement] of Object.entries(fallbacks)) {
      messageWithFallback = messageWithFallback.replace(new RegExp(symbol, 'g'), replacement);
    }

    const encodedText = encodeURIComponent(messageWithFallback);
    const waProtocol = "whatsapp://send?text=" + encodedText;
    const waWeb = "https://wa.me/?text=" + encodedText;

    const manualLink = document.getElementById('manualLink');
    manualLink.href = waWeb;

    async function tryShare() {
      try {
        if (navigator.share) {
          await navigator.share({ text: messageWithFallback });
        } else {
          window.location.href = waProtocol;
          setTimeout(() => { window.location.href = waWeb; }, 1200);
        }
      } catch (err) {
        window.location.href = waWeb;
      }
    }

    window.addEventListener('load', tryShare);
  </script>
</body>
</html>

